<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Retrospectiva Liter√°ria 2025</title>
  <link rel="stylesheet" href="styles.css">
  <script src="app.js" defer></script>
</head>
<body>
  <div class="container">
    <!-- New Upload Section -->
    <div id="uploadSection" class="upload-section-wrapper">
      <div class="book-icon-container">
        <span class="icon">üìñ</span>
      </div>
      
      <h1>Retrospectiva Liter√°ria</h1>
      
      <p class="subtitle">
        Transforme seu hist√≥rico de leituras (CSV) em visuais incr√≠veis.  
        Descubra seus autores favoritos, distribui√ß√£o de notas e muito mais. 
      </p>
      
      <div class="upload-controls">
        <select id="yearSelector" class="year-selector">
          <option value="2020">2020</option>
          <option value="2021">2021</option>
          <option value="2022">2022</option>
          <option value="2023">2023</option>
          <option value="2024">2024</option>
          <option value="2025" selected>2025</option>
          <option value="2026">2026</option>
          <option value="2027">2027</option>
          <option value="2028">2028</option>
          <option value="2029">2029</option>
          <option value="2030">2030</option>
        </select>
        
        <button class="upload-btn-new" onclick="document.getElementById('csvInput').click()">
          <span class="icon">‚¨ÜÔ∏è</span>
          <span>Carregar CSV</span>
        </button>
      </div>
      
      <input type="file" id="csvInput" accept=".csv">
    </div>

    <!-- Dashboard -->
    <div id="dashboard" class="dashboard">
      <button class="reset-btn" onclick="resetApp()">‚Üê Carregar outro arquivo</button>

      <h1 class="dashboard-title">Retrospectiva Liter√°ria</h1>
      <div class="year-display" id="yearDisplay">2025</div>

      <!-- Metrics -->
      <div class="metrics-grid" id="metricsGrid"></div>

      <!-- Tabs -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="overview">Vis√£o Geral</button>
        <button class="tab-btn" data-tab="favorites">Favoritos</button>
        <button class="tab-btn" data-tab="abandoned">Abandonados</button>
        <button class="tab-btn" data-tab="all">Todos os Livros</button>
      </div>

      <!-- Tab Contents -->
      <div id="overviewTab" class="tab-content active">
        <div class="charts-grid">
          <div class="chart-card">
            <h3>Distribui√ß√£o de Notas</h3>
            <div id="ratingChart" class="bar-chart"></div>
          </div>
          <div class="chart-card">
            <h3>Autores favoritos</h3>
            <div id="authorsChart" class="bar-chart"></div>
          </div>
          <div class="chart-card">
            <h3>Top Editoras</h3>
            <div id="publishersChart" class="bar-chart"></div>
          </div>
          <div class="chart-card">
            <h3>Tipos de leitura</h3>
            <div id="typesChart" class="bar-chart"></div>
          </div>
        </div>

        <h2>Destaques</h2>
        <div id="highlightsGrid" class="books-grid"></div>
      </div>

      <div id="favoritesTab" class="tab-content">
        <div id="favoritesGrid" class="books-grid"></div>
      </div>

      <div id="abandonedTab" class="tab-content">
        <div id="abandonedGrid" class="books-grid"></div>
      </div>

      <div id="allTab" class="tab-content">
        <div id="allBooksGrid" class="books-grid"></div>
      </div>

      <!-- Export Section -->
      <div class="export-section">
        <button class="export-btn" onclick="exportStory()">üì∏ Exportar Story (PNG)</button>
      </div>
    </div>

    <canvas id="storyCanvas" width="1080" height="1920"></canvas>
  </div>

</body>
</html>